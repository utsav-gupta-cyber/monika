<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Birthday Countdown</title>
<style>
  :root {
    --pink:#ffe6f2;
    --accent:#ff69b4;
    --text:#4b2a3a;
  }
  body {
    margin:0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(180deg,var(--pink),#fff);
    color: var(--text);
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    flex-direction:column;
    position: relative;
  }

  #startBtn {
    padding:20px 40px;
    font-size:24px;
    background:#ff69b4;
    color:#fff;
    border:none;
    border-radius:25px;
    cursor:pointer;
    animation: popUp 1s ease forwards;
    z-index:5;
  }
  @keyframes popUp {
    0% { transform: scale(0); opacity:0; }
    80% { transform: scale(1.1); opacity:1; }
    100% { transform: scale(1); opacity:1; }
  }

  .countdown-box {
    background:#fff;
    padding:30px 40px;
    border-radius:20px;
    box-shadow:0 8px 30px rgba(0,0,0,0.15);
    text-align:center;
    position:relative;
    z-index:2;
    animation: glow 2s infinite alternate;
    opacity:0;
    transform: scale(0.5);
    transition: all 1s ease;
    min-width:320px;
  }
  .countdown-box.show {
    opacity:1;
    transform: scale(1);
  }
  @keyframes glow {
    from {box-shadow:0 0 20px rgba(255,105,180,0.4);}
    to   {box-shadow:0 0 40px rgba(255,105,180,0.8);}
  }

  #heading {
    font-size:26px;
    color:var(--accent);
    overflow:hidden;
    white-space:nowrap;
    border-right:3px solid var(--accent);
    width:0;
    margin-bottom:20px;
  }
  @keyframes typing { from {width:0} to {width:100%} }
  @keyframes blink { 0%,100% {border-color:transparent} 50% {border-color:var(--accent)} }

  .timer {
    display:flex;
    gap:20px;
    justify-content:center;
  }
  .time {
    background:var(--pink);
    padding:15px 20px;
    border-radius:12px;
    font-size:22px;
    font-weight:bold;
    min-width:80px;
    box-shadow:0 4px 12px rgba(0,0,0,0.1);
  }
  .label { font-size:12px; margin-top:5px; display:block; }

  .photo {
    position:absolute;
    width:160px;
    height:200px;
    object-fit:cover;
    border:6px solid #fff;
    border-radius:15px;
    box-shadow:0 6px 20px rgba(0,0,0,0.2);
    z-index:1;
    opacity:0;
    transform:scale(0.5);
    transition: all 1s ease;
  }
  .photo.show { opacity:1; transform:scale(1); }
  .p1 { top:10%; left:8%; }
  .p2 { top:10%; right:8%; }
  .p3 { bottom:10%; left:12%; }
  .p4 { bottom:10%; right:12%; }

  .balloon {
    position:absolute;
    width:60px;
    height:80px;
    border-radius:50%;
    background:var(--accent);
    opacity:0.7;
    animation: float 6s ease-in-out infinite;
    z-index:1;
  }
  .balloon:after {
    content:'';
    position:absolute;
    left:50%;
    transform:translateX(-50%);
    bottom:-20px;
    width:2px;
    height:20px;
    background:#555;
  }
  @keyframes float { 0%{transform:translateY(0);} 50%{transform:translateY(-30px);} 100%{transform:translateY(0);} }

  .confetti {
    position:absolute;
    width:8px;
    height:8px;
    background: red;
    opacity:0.8;
    z-index:10;
    pointer-events:none;
  }
</style>
</head>
<body>

  <button id="startBtn">For You üéÅ</button>

  <div class="container">
    <div class="countdown-box" id="countdownBox">
      <div id="heading">Happy Birthday in Advance!</div>
      <div class="timer" id="timer">
        <div class="time"><span id="days">00</span><span class="label">Days</span></div>
        <div class="time"><span id="hours">00</span><span class="label">Hours</span></div>
        <div class="time"><span id="minutes">00</span><span class="label">Minutes</span></div>
        <div class="time"><span id="seconds">00</span><span class="label">Seconds</span></div>
      </div>
    </div>

    <img src="photo1.jpg" class="photo p1" alt="">
    <img src="photo2.jpg" class="photo p2" alt="">
    <img src="photo3.jpg" class="photo p3" alt="">
    <img src="photo4.jpg" class="photo p4" alt="">

    <div id="balloons"></div>
  </div>

  <audio id="bgm" src="music.mp3"></audio>

  <script>
    const startBtn = document.getElementById('startBtn');
    const countdownBox = document.getElementById('countdownBox');
    const heading = document.getElementById('heading');
    const photos = document.querySelectorAll('.photo');
    const music = document.getElementById('bgm');

    // --- Web Audio API for louder music ---
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const track = audioCtx.createMediaElementSource(music);
    const gainNode = audioCtx.createGain();
    gainNode.gain.value = 1.5; // 150% volume
    track.connect(gainNode).connect(audioCtx.destination);

    startBtn.addEventListener('click', async () => {
      await audioCtx.resume(); // ensure context is running
      music.play().catch(err=>console.log(err));
      startBtn.style.display='none';

      countdownBox.classList.add('show');

      heading.style.width='0';
      heading.style.animation='typing 4s steps(40,end) forwards, blink .7s infinite';

      photos.forEach((photo,i)=>setTimeout(()=>{photo.classList.add('show');},(i+1)*500));

      startCountdown();
      partyPopperBlast();
    });

    const target = new Date("2025-10-09T00:00:00+05:30").getTime();
    const dEl=document.getElementById("days"),
          hEl=document.getElementById("hours"),
          mEl=document.getElementById("minutes"),
          sEl=document.getElementById("seconds");

    function startCountdown(){
      function update(){
        const now=new Date().getTime();
        const diff=target-now;
        if(diff<=0){ window.location.href="wishes.html"; return; }
        const d=Math.floor(diff/(1000*60*60*24));
        const h=Math.floor((diff%(1000*60*60*24))/(1000*60*60));
        const m=Math.floor((diff%(1000*60*60))/(1000*60));
        const s=Math.floor((diff%(1000*60))/1000);
        dEl.textContent=d; hEl.textContent=h; mEl.textContent=m; sEl.textContent=s;
      }
      setInterval(update,1000); update();
    }

    const balloonColors=['#ff9acb','#ffd1e8','#ffc9ee','#ffb3da'];
    for(let i=0;i<10;i++){
      const b=document.createElement('div');
      b.className='balloon';
      b.style.left=Math.random()*100+'%';
      b.style.top=(50+Math.random()*50)+'%';
      b.style.background=balloonColors[i%balloonColors.length];
      b.style.animationDuration=(5+Math.random()*4)+'s';
      document.getElementById('balloons').appendChild(b);
    }

    function partyPopperBlast(){
      for(let i=0;i<50;i++){
        const confetti=document.createElement('div');
        confetti.className='confetti';
        confetti.style.left=Math.random()*100+'%';
        confetti.style.top='0';
        confetti.style.background=`hsl(${Math.random()*360},80%,60%)`;
        document.body.appendChild(confetti);
        animateConfetti(confetti);
      }
    }

    function animateConfetti(el){
      const duration = 3000 + Math.random()*2000;
      const startX = parseFloat(el.style.left);
      const endX = startX + (Math.random()*60-30);
      let start = null;
      function step(timestamp){
        if(!start) start=timestamp;
        let progress = (timestamp-start)/duration;
        if(progress>1) { el.remove(); return; }
        el.style.top =  progress*100 + 'vh';
        el.style.left = startX + progress*(endX-startX)+'%';
        el.style.transform = `rotate(${progress*360}deg)`;
        requestAnimationFrame(step);
      }
      requestAnimationFrame(step);
    }
  </script>
</body>
</html>



